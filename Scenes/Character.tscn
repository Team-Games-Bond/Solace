[gd_scene load_steps=18 format=3 uid="uid://cfkv6wtyhhta0"]

[ext_resource type="Script" path="res://Scripts/CharacterController.cs" id="1_g771o"]
[ext_resource type="PackedScene" uid="uid://nm3gbpokbvck" path="res://Models/Sprite/sprite little flame.blend" id="2_2gy3l"]
[ext_resource type="Shader" uid="uid://cahw01ei5mqun" path="res://Scenes/Shader/FireShader.res" id="2_qlqug"]
[ext_resource type="Script" path="res://Scripts/CameraController.cs" id="2_qsldj"]
[ext_resource type="Texture2D" uid="uid://b2ni1rvdrt505" path="res://Models/Particles/GAP_Fire_Textures/Voronoi01.png" id="3_4oup6"]
[ext_resource type="Texture2D" uid="uid://cw6pwql6lf5ut" path="res://Models/Particles/GAP_Fire_Textures/Flame01.png" id="3_v6rkj"]
[ext_resource type="Texture2D" uid="uid://cwcst7y7umekt" path="res://Models/Particles/GAP_Fire_Textures/Flame02.png" id="5_gkaii"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_13pt1"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_c4l1b"]
render_priority = 0
shader = ExtResource("2_qlqug")
shader_parameter/DissolveTilling = Vector2(0.25, 0.2)
shader_parameter/DissolveSpeed = Vector2(0, 0.2)
shader_parameter/DissolveAmount = 0.203
shader_parameter/MainTexture = ExtResource("3_v6rkj")
shader_parameter/DissolveTexture = ExtResource("3_4oup6")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_7dkyy"]
gravity = Vector3(0, 0, 0)
color = Color(4, 1.25, 0.6, 0.8)

[sub_resource type="QuadMesh" id="QuadMesh_hvc86"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_inbvu"]
render_priority = 0
shader = ExtResource("2_qlqug")
shader_parameter/DissolveTilling = Vector2(1, 1)
shader_parameter/DissolveSpeed = Vector2(0, 0)
shader_parameter/DissolveAmount = 0.0
shader_parameter/MainTexture = ExtResource("5_gkaii")
shader_parameter/DissolveTexture = ExtResource("3_4oup6")

[sub_resource type="Curve" id="Curve_26dab"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.215569, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_w45ou"]
curve = SubResource("Curve_26dab")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_mmgvr"]
emission_shape = 1
emission_sphere_radius = 0.2
angle_min = -360.0
angle_max = 360.0
gravity = Vector3(0, 3, 0)
scale_min = 0.75
scale_max = 1.5
scale_curve = SubResource("CurveTexture_w45ou")
color = Color(4.01176, 1.2549, 0.623529, 1)

[sub_resource type="QuadMesh" id="QuadMesh_6t1sx"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_ukuk1"]
height = 0.233764
radius = 0.534782

[node name="Character" type="CharacterBody3D" node_paths=PackedStringArray("PlayerPivot", "LadderDetector", "ItemMount")]
collision_layer = 3
script = ExtResource("1_g771o")
PlayerPivot = NodePath("PlayerPivot")
LadderDetector = NodePath("Stair Detector")
ItemMount = NodePath("PlayerPivot/Player Visuals/ItemMount")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_13pt1")

[node name="static flame" type="GPUParticles3D" parent="."]
transform = Transform3D(-0.999848, 0, -0.0174525, 0, 1, 0, 0.0174525, 0, -0.999848, 0, 0, 0)
visible = false
material_override = SubResource("ShaderMaterial_c4l1b")
amount = 1
lifetime = 5.0
process_material = SubResource("ParticleProcessMaterial_7dkyy")
draw_pass_1 = SubResource("QuadMesh_hvc86")

[node name="sprite little flame" parent="." instance=ExtResource("2_2gy3l")]
transform = Transform3D(-0.299954, 0, -0.00523574, 0, 0.3, 0, 0.00523574, 0, -0.299954, 0, 0, 0)

[node name="GPUParticles3D" type="GPUParticles3D" parent="sprite little flame"]
transform = Transform3D(-2.49962, 0, 0.0436313, 0, 2.5, 0, -0.0436313, 0, -2.49962, 0, 0, 0)
material_override = SubResource("ShaderMaterial_inbvu")
amount = 20
lifetime = 1.2
process_material = SubResource("ParticleProcessMaterial_mmgvr")
draw_pass_1 = SubResource("QuadMesh_6t1sx")

[node name="PlayerPivot" type="Marker3D" parent="."]
transform = Transform3D(0.999848, 0, 0.0174524, 0, 1, 0, -0.0174524, 0, 0.999848, 0, 0, 0)

[node name="Player Visuals" type="CSGCylinder3D" parent="PlayerPivot"]
transform = Transform3D(1, 0, 0, 0, 0.966364, 0, 0, 0, 1, 0, 0, 0)
visible = false

[node name="CSGBox3D" type="CSGBox3D" parent="PlayerPivot/Player Visuals"]
transform = Transform3D(0.155873, 0, 0, 0, 0.173381, 0, 0, 0, 0.373001, 0, 0.940952, -0.512035)

[node name="ItemMount" type="Node3D" parent="PlayerPivot/Player Visuals"]
transform = Transform3D(0.25, 0, 0, 0, 0.258702, 0, 0, 0, 0.25, 0, 0.190884, -0.733348)

[node name="Player Camera" type="Camera3D" parent="." node_paths=PackedStringArray("CharacterController")]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 10, 20)
cull_mask = 524287
v_offset = 1.3
projection = 1
current = true
size = 6.857
near = 0.004
far = 100.0
script = ExtResource("2_qsldj")
StartDistance = 15.0
CharacterController = NodePath("..")

[node name="Stair Detector" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Stair Detector"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.868554, 0)
shape = SubResource("CylinderShape3D_ukuk1")
